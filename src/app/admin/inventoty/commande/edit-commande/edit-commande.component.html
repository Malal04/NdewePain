<main class="ingredient-order-form">
  <header class="form-header">
    <h2><i class="fa fa-edit"></i> Modifier la commande d’ingrédient</h2>
    <p>Modifiez les détails de votre commande auprès du fournisseur.</p>
  </header>

  <!-- Messages -->
  <p class="message success" *ngIf="message">
    <i class="fa fa-check-circle"></i> {{ message }}
  </p>
  <p class="message error" *ngIf="error">
    <i class="fa fa-exclamation-triangle"></i> {{ error }}
  </p>

  <form [formGroup]="orderForm" (ngSubmit)="onSubmit()">
    <!-- Ingrédient -->
    <div class="form-group">
      <label for="ingredient_id"><i class="fa fa-bread-slice"></i> Ingrédient <span class="required">*</span></label>
      <select id="ingredient_id" formControlName="ingredient_id">
        <option value="">-- Sélectionner un ingrédient --</option>
        <option *ngFor="let i of ingredients" [value]="i.id">{{ i.nom }}</option>
      </select>
    </div>

    <!-- Fournisseur -->
    <div class="form-group">
      <label for="supplier_id"><i class="fa fa-truck"></i> Fournisseur <span class="required">*</span></label>
      <select id="supplier_id" formControlName="supplier_id">
        <option value="">-- Sélectionner un fournisseur --</option>
        <option *ngFor="let s of suppliers" [value]="s.id">{{ s.nom }}</option>
      </select>
    </div>

    <!-- Quantité -->
    <div class="form-group">
      <label for="quantite"><i class="fa fa-balance-scale"></i> Quantité <span class="required">*</span></label>
      <input type="number" step="0.1" min="0.1" formControlName="quantite" id="quantite" placeholder="Ex: 5.5" />
    </div>

    <!-- Statut -->
    <div class="form-group">
      <label for="statut"><i class="fa fa-flag"></i> Statut</label>
      <select id="statut" formControlName="statut">
        <option value="en_attente">En attente</option>
        <option value="livrer">Livré</option>
        <option value="annuler">Annulé</option>
      </select>
    </div>

    <!-- Actions -->
    <div class="form-actions">
      <button type="submit" class="btn btn-primary" [disabled]="orderForm.invalid">
        <i class="fa fa-save"></i> Enregistrer
      </button>
      <button type="button" class="btn btn-secondary" (click)="cancel()">
        <i class="fa fa-times"></i> Annuler
      </button>
    </div>
  </form>
</main>
